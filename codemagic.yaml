workflows:
  android-release:
    name: EHFAD Android Release Build
    max_build_duration: 180
    instance_type: mac_mini_m2
    # Entfernt: flutter_sdk (da dies eine native Android-App ist)
    script:
      - checkout
      
      - name: Java-Version prüfen
        script: 
          - echo "Java-Version prüfen"
          - java -version
          - javac -version  # Korrigiert von 'javax'
      
      - name: Gradle-Build ausführen
        script: 
          - ./gradlew assembleRelease \
              -Pandroid.enableJetifier=true \
              -Pandroid.useAndroidX=true  # Korrigiert von 'usebndroidX'

    artifacts:
      - app/build/outputs/apk/release/*.apk  # Korrigiert von 'api'
      - app/build/reports/
